<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Creating a new ThickNumber subtype · ThickNumbers.jl</title><meta name="title" content="Creating a new ThickNumber subtype · ThickNumbers.jl"/><meta property="og:title" content="Creating a new ThickNumber subtype · ThickNumbers.jl"/><meta property="twitter:title" content="Creating a new ThickNumber subtype · ThickNumbers.jl"/><meta name="description" content="Documentation for ThickNumbers.jl."/><meta property="og:description" content="Documentation for ThickNumbers.jl."/><meta property="twitter:description" content="Documentation for ThickNumbers.jl."/><meta property="og:url" content="https://timholy.github.io/ThickNumbers.jl/developers/"/><meta property="twitter:url" content="https://timholy.github.io/ThickNumbers.jl/developers/"/><link rel="canonical" href="https://timholy.github.io/ThickNumbers.jl/developers/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ThickNumbers.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Creating a new ThickNumber subtype</a><ul class="internal"><li><a class="tocitem" href="#Ensuring-compliance-with-the-ThickNumbers-interface"><span>Ensuring compliance with the ThickNumbers interface</span></a></li><li><a class="tocitem" href="#Features-provided-by-subtyping-ThickNumber"><span>Features provided by subtyping ThickNumber</span></a></li></ul></li><li><a class="tocitem" href="../required/">Required API functions</a></li><li><a class="tocitem" href="../optional/">Optional API functions</a></li><li><a class="tocitem" href="../user_api/">User API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Creating a new ThickNumber subtype</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Creating a new ThickNumber subtype</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/timholy/ThickNumbers.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/timholy/ThickNumbers.jl/blob/main/docs/src/developers.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Creating-a-new-ThickNumber-subtype"><a class="docs-heading-anchor" href="#Creating-a-new-ThickNumber-subtype">Creating a new ThickNumber subtype</a><a id="Creating-a-new-ThickNumber-subtype-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-new-ThickNumber-subtype" title="Permalink"></a></h1><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>For a concrete example, see the <code>ThickNumbersInterfaceTests/test/testpackages/IntervalArith</code> &quot;package&quot; in the main source repository of <code>ThickNumbers.jl</code>. You can get a hint of the behaviors this endows by looking at <code>ThickNumbers/test/runtests.jl</code>, which uses the <code>Interval</code> type defined by <code>IntervalArith</code>.</p></div></div><p>Create your type by subtyping <code>ThickNumber{T}</code>:</p><pre><code class="language-julia hljs">struct MyType{T&lt;:Real} &lt;: ThickNumber{T}
    # you can have whatever fields you need...
    a::T
    b::T
end</code></pre><p>If you only intend to support, say, <code>Float64</code>, you can use <code>struct MyType &lt;: ThickNumber{Float64} ... end</code>: the key point is that the <code>T</code> in <code>ThickNumber{T}</code> should encode the <a href="../user_api/#ThickNumbers.valuetype"><code>valuetype</code></a>.</p><p>The following interface functions must be defined:</p><ul><li><a href="../required/#ThickNumbers.loval"><code>loval(x)</code></a>: should return the lower span (i.e., the &quot;lower bound&quot; if such bounds are strict).</li><li><a href="../required/#ThickNumbers.hival"><code>hival(x)</code></a>: should return the upper span.</li><li><a href="../required/#ThickNumbers.basetype"><code>basetype(x)</code></a>: should strip the <code>valuetype</code>, i.e., <code>basetype(Interval{Float64})</code> returns <code>Interval</code>.</li><li>any arithmetic operations you need, e.g., <code>+</code>, <code>-</code>, <code>*</code>, and <code>/</code></li></ul><p>The implementation of these functions must satisfy certain requirements spelled out in the documentation of each of these functions.</p><p>If possible, you should also define:</p><ul><li><a href="../required/#ThickNumbers.lohi"><code>lohi(MyType{T}, lo, hi)</code></a>: construct <code>x</code> from two numbers specifying the lower and upper spans.</li></ul><p>If you cannot define this for your type (e.g., <code>MyType</code> requires more than two arguments to construct), it is likely that you&#39;ll have to specialize some of the <a href="../user_api/#User-API">User API</a> functions for <code>MyType</code>, since the default implementations of some of them rely on <code>lohi</code>.</p><p>There are also numerous optional methods you can specialize if it makes <code>MyType</code> operate more efficiently. For example, a gaussian random variable package might want to implement <a href="../optional/#ThickNumbers.midrad"><code>midrad(MyType{T}, center, σ)</code></a> to construct values directly, assuming this is the natural parametrization of this type.</p><h2 id="Ensuring-compliance-with-the-ThickNumbers-interface"><a class="docs-heading-anchor" href="#Ensuring-compliance-with-the-ThickNumbers-interface">Ensuring compliance with the ThickNumbers interface</a><a id="Ensuring-compliance-with-the-ThickNumbers-interface-1"></a><a class="docs-heading-anchor-permalink" href="#Ensuring-compliance-with-the-ThickNumbers-interface" title="Permalink"></a></h2><p>The <code>ThickNumbersInterfaceTests</code> package can be used to determine whether your implementations comply with the requirements.  As it is possible that this test suite will evolve and add new requirements, be sure to use <code>[compat]</code> bounds to specify the major version number of <code>ThickNumbersInterfaceTests</code> that your implementation satisfies.</p><h2 id="Features-provided-by-subtyping-ThickNumber"><a class="docs-heading-anchor" href="#Features-provided-by-subtyping-ThickNumber">Features provided by subtyping ThickNumber</a><a id="Features-provided-by-subtyping-ThickNumber-1"></a><a class="docs-heading-anchor-permalink" href="#Features-provided-by-subtyping-ThickNumber" title="Permalink"></a></h2><p>See the <a href="../user_api/#User-API">User API</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../required/">Required API functions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.1 on <span class="colophon-date" title="Thursday 19 October 2023 10:51">Thursday 19 October 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
